{"ast":null,"code":"var _jsxFileName = \"/Users/seong-ae/project3/src/ShowPost.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState, useMemo, useRef } from \"react\";\nimport { PostSection, PostTitleDiv, PostTitle, LoadingDiv, LoadingImg, PagenumberDiv, CursorDiv, PostRepl, PostReplDiv, ReplTitleDiv, ReplWriter, Repl, WriterDiv, ReplInput, ReplSubmitDiv } from \"./styledComponent\";\nimport axios from \"axios\";\nimport { useParams } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst postData = {\n  title: `바운스`,\n  contents: `아기사자가 돌아서면 두 눈이 마주칠까, 심장이 bounce, bounce 두근 대 들릴까 봐 겁나\n  한참을 망설이다 용기를 내 밤새워 준비한 내 개사 들어줘, 처음 본 순간부터 아기사자랑 친해질꺼야 생각했어~~,\n  Baby, you're my trampoline You make me bounce Bounde - 아기사자들은 다 귀여워 최고 -\n  `\n};\nconst replData = [{\n  id: 2,\n  content: `반가워요!`\n}, {\n  id: 3,\n  content: `멋쟁이 사자처럼 최고!`\n}]; // 댓글 meo\n\nconst PostAndRepl = /*#__PURE__*/React.memo(_c = _ref => {\n  let {\n    post,\n    postLoading,\n    repls,\n    replCount,\n    replLoading\n  } = _ref;\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [\" \", /*#__PURE__*/_jsxDEV(PostTitleDiv, {\n      children: /*#__PURE__*/_jsxDEV(PostTitle, {\n        children: post && post.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }, this), postLoading ? /*#__PURE__*/_jsxDEV(LoadingDiv, {\n      children: /*#__PURE__*/_jsxDEV(LoadingImg, {\n        src: `${process.env.PUBLIC_URL}/loading2.svg`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 11\n    }, this) : /*#__PURE__*/_jsxDEV(PostReplDiv, {\n      children: post && post.contents\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(ReplTitleDiv, {\n      children: [\"\\uB313\\uAE00 \", replCount, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }, this), replLoading ? /*#__PURE__*/_jsxDEV(LoadingDiv, {\n      children: /*#__PURE__*/_jsxDEV(LoadingImg, {\n        src: `${process.env.PUBLIC_URL}/loading2.svg`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }, this) : repls && repls.map(element => /*#__PURE__*/_jsxDEV(PostReplDiv, {\n      children: [/*#__PURE__*/_jsxDEV(ReplWriter, {\n        children: \"\\uC775\\uBA85\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(Repl, {\n        children: element\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 15\n      }, this)]\n    }, element, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this))]\n  }, void 0, true);\n});\n_c2 = PostAndRepl;\n\nconst ShowPost = _ref2 => {\n  _s();\n\n  let {\n    apiUrl\n  } = _ref2;\n  const [post, setPost] = useState(null);\n  const [repls, setRepls] = useState([]);\n  const [postLoading, setPostLoading] = useState(true);\n  const [replLoading, setReplLoading] = useState(true);\n  const Params = useParams();\n  const replInput = useRef(); //   useEffect(() => {\n  //     axios.get(`${apiUrl}posts/${Params.postID}`).then((response) => {\n  //       console.log(response);\n  //       setPost(response.data);\n  //       setPostLoading(false);\n  //       setRepls(response.data.repls);\n  //       setReplLoading(false);\n  //       replInput.current.focus();\n  //     });\n  //   }, []);\n  //useEffect 2개 사용하기\n\n  useEffect(() => {\n    setTimeout(() => {\n      setPost(postData);\n      setPostLoading(false);\n    }, 1000);\n  });\n  useEffect(() => {\n    setTimeout(() => {\n      setRepls(replData);\n      setReplLoading(false);\n    }, 3000);\n  }); //input창 상태관리\n\n  const [repl, setRepl] = useState(\"\");\n\n  const onChange = e => {\n    setRepl(e.target.value);\n  };\n\n  const countRepls = _ref3 => {\n    let {\n      repls\n    } = _ref3;\n    console.log(\"댓글 세는 중...\");\n    return repls.length;\n  }; //memo hook실습\n\n\n  const replCount = countRepls(repls);\n\n  const onSubmitRepl = () => {\n    axios.post(`${apiUrl}repl/`, {\n      contents: repl,\n      post: Params.postID\n    }).then(() => {\n      // 새로고침\n      window.location.reload();\n    });\n  };\n\n  if (!Params.postID) {\n    return /*#__PURE__*/_jsxDEV(PostSection, {\n      children: \"\\uC798\\uBABB\\uB41C \\uC811\\uADFC\\uC785\\uB2C8\\uB2E4\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(PostSection, {\n      children: [/*#__PURE__*/_jsxDEV(PostAndRepl, {\n        post: post,\n        postLoading: postLoading,\n        replCount: replCount,\n        replLoading: replLoading,\n        repls: repls\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(WriterDiv, {\n        children: [/*#__PURE__*/_jsxDEV(ReplInput, {\n          onChange: onChange,\n          value: repl,\n          ref: replInput\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ReplSubmitDiv, {\n          onClick: onSubmitRepl,\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\uC785\\uB825\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 137,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ShowPost, \"K9bcFUDVl2+2zEXzCc/4Gy6Bc9w=\", false, function () {\n  return [useParams];\n});\n\n_c3 = ShowPost;\nexport default ShowPost;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"PostAndRepl$React.memo\");\n$RefreshReg$(_c2, \"PostAndRepl\");\n$RefreshReg$(_c3, \"ShowPost\");","map":{"version":3,"names":["React","useEffect","useState","useMemo","useRef","PostSection","PostTitleDiv","PostTitle","LoadingDiv","LoadingImg","PagenumberDiv","CursorDiv","PostRepl","PostReplDiv","ReplTitleDiv","ReplWriter","Repl","WriterDiv","ReplInput","ReplSubmitDiv","axios","useParams","postData","title","contents","replData","id","content","PostAndRepl","memo","post","postLoading","repls","replCount","replLoading","process","env","PUBLIC_URL","map","element","ShowPost","apiUrl","setPost","setRepls","setPostLoading","setReplLoading","Params","replInput","setTimeout","repl","setRepl","onChange","e","target","value","countRepls","console","log","length","onSubmitRepl","postID","then","window","location","reload"],"sources":["/Users/seong-ae/project3/src/ShowPost.jsx"],"sourcesContent":["import React, { useEffect, useState, useMemo, useRef } from \"react\";\nimport {\n  PostSection,\n  PostTitleDiv,\n  PostTitle,\n  LoadingDiv,\n  LoadingImg,\n  PagenumberDiv,\n  CursorDiv,\n  PostRepl,\n  PostReplDiv,\n  ReplTitleDiv,\n  ReplWriter,\n  Repl,\n  WriterDiv,\n  ReplInput,\n  ReplSubmitDiv,\n} from \"./styledComponent\";\nimport axios from \"axios\";\nimport { useParams } from \"react-router-dom\";\n\nconst postData = {\n  title: `바운스`,\n  contents: `아기사자가 돌아서면 두 눈이 마주칠까, 심장이 bounce, bounce 두근 대 들릴까 봐 겁나\n  한참을 망설이다 용기를 내 밤새워 준비한 내 개사 들어줘, 처음 본 순간부터 아기사자랑 친해질꺼야 생각했어~~,\n  Baby, you're my trampoline You make me bounce Bounde - 아기사자들은 다 귀여워 최고 -\n  `,\n};\n\nconst replData = [\n  { id: 2, content: `반가워요!` },\n  { id: 3, content: `멋쟁이 사자처럼 최고!` },\n];\n\n// 댓글 meo\nconst PostAndRepl = React.memo(\n  ({ post, postLoading, repls, replCount, replLoading }) => {\n    return (\n      <>\n        {\" \"}\n        <PostTitleDiv>\n          <PostTitle>{post && post.title}</PostTitle>\n        </PostTitleDiv>\n        {postLoading ? (\n          <LoadingDiv>\n            <LoadingImg src={`${process.env.PUBLIC_URL}/loading2.svg`} />\n          </LoadingDiv>\n        ) : (\n          <PostReplDiv>{post && post.contents}</PostReplDiv>\n        )}\n        {/* post contents */}\n        <ReplTitleDiv>댓글 {replCount} </ReplTitleDiv>\n        {replLoading ? (\n          <LoadingDiv>\n            <LoadingImg src={`${process.env.PUBLIC_URL}/loading2.svg`} />\n          </LoadingDiv>\n        ) : (\n          repls &&\n          repls.map((element) => (\n            <PostReplDiv key={element}>\n              <ReplWriter>익명</ReplWriter>\n              <Repl>{element}</Repl>\n            </PostReplDiv>\n          ))\n        )}\n      </>\n    );\n  }\n);\n\nconst ShowPost = ({ apiUrl }) => {\n  const [post, setPost] = useState(null);\n  const [repls, setRepls] = useState([]);\n  const [postLoading, setPostLoading] = useState(true);\n  const [replLoading, setReplLoading] = useState(true);\n  const Params = useParams();\n  const replInput = useRef();\n\n  //   useEffect(() => {\n  //     axios.get(`${apiUrl}posts/${Params.postID}`).then((response) => {\n  //       console.log(response);\n  //       setPost(response.data);\n  //       setPostLoading(false);\n  //       setRepls(response.data.repls);\n  //       setReplLoading(false);\n  //       replInput.current.focus();\n  //     });\n  //   }, []);\n\n  //useEffect 2개 사용하기\n  useEffect(() => {\n    setTimeout(() => {\n      setPost(postData);\n      setPostLoading(false);\n    }, 1000);\n  });\n\n  useEffect(() => {\n    setTimeout(() => {\n      setRepls(replData);\n      setReplLoading(false);\n    }, 3000);\n  });\n\n  //input창 상태관리\n  const [repl, setRepl] = useState(\"\");\n\n  const onChange = (e) => {\n    setRepl(e.target.value);\n  };\n\n  const countRepls = ({ repls }) => {\n    console.log(\"댓글 세는 중...\");\n    return repls.length;\n  };\n\n  //memo hook실습\n  const replCount = countRepls(repls);\n\n  const onSubmitRepl = () => {\n    axios\n      .post(`${apiUrl}repl/`, {\n        contents: repl,\n        post: Params.postID,\n      })\n      .then(() => {\n        // 새로고침\n        window.location.reload();\n      });\n  };\n\n  if (!Params.postID) {\n    return <PostSection>잘못된 접근입니다</PostSection>;\n  }\n\n  return (\n    <div>\n      <PostSection>\n        <PostAndRepl\n          post={post}\n          postLoading={postLoading}\n          replCount={replCount}\n          replLoading={replLoading}\n          repls={repls}\n        />\n        <WriterDiv>\n          <ReplInput onChange={onChange} value={repl} ref={replInput} />\n          <ReplSubmitDiv onClick={onSubmitRepl}>\n            <span>입력</span>\n          </ReplSubmitDiv>\n        </WriterDiv>\n      </PostSection>\n    </div>\n  );\n};\n\nexport default ShowPost;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}